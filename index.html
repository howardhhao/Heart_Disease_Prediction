<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Heart Disease Risk Checker</title>
</head>
<body>

    
        


    </div>
    <form id="heartDiseaseForm">
        

       
        
        

        <label for="currentSmoker">Are you a current smoker?</label>
        <select id="currentSmoker" name="currentSmoker" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>

        <label for="cigsPerDay">Average number of cigarettes per day:</label>
        <input type="number" id="cigsPerDay" name="cigsPerDay" required><br><br>

        <label for="BPMeds">Are you on blood pressure medications?</label>
        <select id="BPMeds" name="BPMeds" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>

        <label for="prevalentStroke">Have you had a stroke?</label>
        <select id="prevalentStroke" name="prevalentStroke" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>

        <label for="prevalentHyp">Do you have prevalent hypertension?</label>
        <select id="prevalentHyp" name="prevalentHyp" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>

        <label for="diabetes">Do you have diabetes?</label>
        <select id="diabetes" name="diabetes" required>
            <option value="0">No</option>
            <option value="1">Yes</option>
        </select><br><br>

        <label for="totChol">Total Cholesterol (mg/dL):</label>
        <input type="number" id="totChol" name="totChol" required><br><br>

        <label for="sysBP">Systolic Blood Pressure (mmHg):</label>
        <input type="number" id="sysBP" name="sysBP" required><br><br>

        <label for="diaBP">Diastolic Blood Pressure (mmHg):</label>
        <input type="number" id="diaBP" name="diaBP" required><br><br>

        <label for="BMI">Body Mass Index (BMI):</label>
        <input type="number" id="BMI" name="BMI" required><br><br>

        <label for="heartRate">Heart Rate (bpm):</label>
        <input type="number" id="heartRate" name="heartRate" required><br><br>

        <label for="glucose">Glucose (mg/dL):</label>
        <input type="number" id="glucose" name="glucose" required><br><br>

        <button type="submit">Check Risk</button>
    </form>
    
    <div id="result"></div>

    <script>
        document.getElementById('heartDiseaseForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            const formData = new FormData(this);
            const jsonData = {};

            formData.forEach((value, key) => {
                jsonData[key] = value;
            });

            const response = await fetch('http://127.0.0.1:5000/predict', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(jsonData)
            });

            const result = await response.json();

            document.getElementById('result').innerText = `Heart Disease Risk: ${(result.prediction)}`;
        });
    </script>
</body>
</html>
